import{u as S,j as e,r as y,W as B,O as m}from"./app-42ztUqCq.js";import{m as N,q as w,P as L,r as O,o as U,s as G,d as R,b as v,G as C,S as D,k as M,F as H,T as f,a as j,A as W,B as T,g as J}from"./AppLayout-DU9WNuPn.js";import{B as $}from"./Breadcrumbs-CBwNdfz_.js";import{I as Y,T as n,a as k,b as q}from"./Table-DO8cJqyF.js";import{I as X,a as K}from"./IconTrash-CJew_O6s.js";import{T as E}from"./TextInput-r5q_7f7a.js";import{I}from"./IconSearch-BSq_Ft5Y.js";import{F as Q}from"./FileButton-Vcl1TeKM.js";import"./Title-CZteqP86.js";import"./ScrollArea-BbLSxT-v.js";const[V,_]=N("HoverCard component was not found in the tree"),Z={};function z(t){const{children:s,onMouseEnter:r,onMouseLeave:l,...d}=S("HoverCardDropdown",Z,t),c=_(),i=w(r,c.openDropdown),p=w(l,c.closeDropdown);return e.jsx(L.Dropdown,{onMouseEnter:i,onMouseLeave:p,...d,children:s})}z.displayName="@mantine/core/HoverCardDropdown";const ee={refProp:"ref"},F=y.forwardRef((t,s)=>{const{children:r,refProp:l,eventPropsWrapperName:d,...c}=S("HoverCardTarget",ee,t);if(!O(r))throw new Error("HoverCard.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const i=_(),p=w(r.props.onMouseEnter,i.openDropdown),x=w(r.props.onMouseLeave,i.closeDropdown),u={onMouseEnter:p,onMouseLeave:x};return e.jsx(L.Target,{refProp:l,ref:s,...c,children:y.cloneElement(r,d?{[d]:u}:u)})});F.displayName="@mantine/core/HoverCardTarget";const ae={openDelay:0,closeDelay:150,initiallyOpened:!1};function h(t){const{children:s,onOpen:r,onClose:l,openDelay:d,closeDelay:c,initiallyOpened:i,...p}=S("HoverCard",ae,t),[x,{open:u,close:b}]=U(i,{onClose:l,onOpen:r}),{openDropdown:a,closeDropdown:g}=G({open:u,close:b,openDelay:d,closeDelay:c});return e.jsx(V,{value:{openDropdown:a,closeDropdown:g},children:e.jsx(L,{...p,opened:x,__staticSelector:"HoverCard",children:s})})}h.displayName="@mantine/core/HoverCard";h.Target=F;h.Dropdown=z;h.extend=t=>t;/**
 * @license @tabler/icons-react v3.4.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var te=R("outline","file-spreadsheet","IconFileSpreadsheet",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z",key:"svg-1"}],["path",{d:"M8 11h8v7h-8z",key:"svg-2"}],["path",{d:"M8 15h8",key:"svg-3"}],["path",{d:"M11 11v7",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.4.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var se=R("outline","upload","IconUpload",[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 9l5 -5l5 5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]]);const P={png:"image/png",gif:"image/gif",jpeg:"image/jpeg",svg:"image/svg+xml",webp:"image/webp",avif:"image/avif",heic:"image/heic",mp4:"video/mp4",zip:"application/zip",csv:"text/csv",pdf:"application/pdf",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",exe:"application/vnd.microsoft.portable-executable"},oe=[P.xls,P.xlsx],xe=t=>{const s=B({file:null});console.log(s.data.file,"file");const[r,l]=y.useState(""),d=[{title:"#"},{title:"Nama",key:"name"},{title:"Tempat",key:"place"},{title:"Atlet"},{title:"Pelatih",key:"coach.full_name"},{title:"Tanggal",key:"date"},{title:"Waktu Mulai",key:"start_time"},{title:"Waktu Selesai",key:"end_time"},{title:"Aksi"}],c=[{label:"Rincian Latihan",icon:e.jsx(Y,{}),onClick:a=>m.get(route("exercises.show",a.id)),color:"blue"},{label:"Ubah Latihan",icon:e.jsx(X,{}),onClick:a=>m.get(route("exercises.edit",a.id)),color:"yellow",disabled:!t.auth.user.role.includes("Pelatih")},{label:"Hapus Latihan",icon:e.jsx(K,{}),onClick:a=>m.delete(route("exercises.destroy",a.id)),color:"red",disabled:!t.auth.user.role.includes("Pelatih")}],i=t.exercises.filter(a=>a.name.toLowerCase().includes(r.toLowerCase())),[p,x]=y.useState(i),u=p.map((a,g)=>e.jsxs(n.Tr,{h:64,children:[e.jsx(n.Td,{px:16,py:0,style:{whiteSpace:"nowrap"},children:g+1}),e.jsx(n.Td,{px:16,py:0,style:{whiteSpace:"nowrap"},children:a.name}),e.jsx(n.Td,{px:16,py:0,style:{whiteSpace:"nowrap"},children:a.place}),e.jsx(n.Td,{px:16,py:0,style:{whiteSpace:"nowrap"},children:e.jsx(v.Group,{spacing:24,h:48,children:a.athletes.map(o=>e.jsxs(h,{withArrow:!0,shadow:"xl",children:[e.jsx(h.Target,{children:e.jsx(v,{size:52,src:o.avatar,radius:32})}),e.jsx(h.Dropdown,{style:{borderRadius:32},p:16,children:e.jsxs(C,{children:[e.jsx(v,{size:80,src:o.avatar,radius:160}),e.jsxs(D,{gap:5,children:[e.jsx(M,{size:"sm",fw:600,children:o.full_name}),e.jsx(M,{size:"sm",c:"dimmed",children:o.role})]})]})})]},o.id))})}),e.jsx(n.Td,{px:16,py:0,style:{whiteSpace:"nowrap"},children:e.jsxs(H,{gap:16,align:"center",children:[e.jsx(v,{size:48,src:a.coach.avatar}),a.coach.full_name," (",a.coach.role,")"]})}),e.jsx(n.Td,{px:16,py:0,style:{whiteSpace:"nowrap"},children:new Date(a.date).toLocaleDateString("id").split("/").join("-")}),e.jsx(n.Td,{px:16,py:0,style:{whiteSpace:"nowrap"},children:a.start_time.split(":").join(".")}),e.jsx(n.Td,{px:16,py:0,style:{whiteSpace:"nowrap"},children:a.end_time.split(":").join(".")}),e.jsx(n.Td,{px:16,py:0,style:{whiteSpace:"nowrap"},children:e.jsx(H,{gap:8,style:{whiteSpace:"nowrap"},children:c.map((o,A)=>e.jsx(f,{label:o.label,style:{borderRadius:32,padding:".5rem 1rem"},children:e.jsx(j,{size:48,radius:32,variant:"subtle","aria-label":o.label,color:o.color,onClick:()=>o.onClick(a),disabled:o.disabled,children:o.icon})},A))})})]},g)),b=a=>{x(a)};return e.jsxs(W,{title:"Latihan",authed:t.auth.user,meta:t.meta,unreadHistories:t.total_unread_histories,children:[e.jsxs(D,{mb:32,children:[e.jsxs(C,{w:"100%",justify:"space-between",children:[e.jsx($,{navList:[{label:"Latihan",totalData:t.exercises.length}]}),e.jsxs(C,{children:[e.jsx(E,{display:{base:"none",xs:"block"},w:240,variant:"filled",leftSection:e.jsx(I,{}),styles:{input:{height:48,borderRadius:32,paddingLeft:50,paddingRight:14},section:{marginLeft:0,width:48,height:48}},color:"gold.2",placeholder:"Cari latihan...",onChange:a=>l(a.target.value)}),t.auth.user.role.includes("Pelatih")&&e.jsxs(e.Fragment,{children:[e.jsx(f,{style:{borderRadius:32,padding:".5rem 1rem"},label:"Tambah Jadwal",children:e.jsx(j,{ml:"auto",h:48,w:48,color:"gold.2",radius:32,display:{base:"block",sm:"none"},onClick:()=>m.get(route("exercises.create")),children:e.jsx(k,{})})}),e.jsx(f,{style:{borderRadius:32,padding:".5rem 1rem"},label:"Unggah Jadwal",children:e.jsxs(T.Group,{children:[e.jsx(Q,{accept:oe,onChange:a=>s.setData("file",a),style:{borderRadius:"32px 0 0 32px"},display:{base:"none",sm:"block"},w:192,leftSection:e.jsx(te,{}),variant:"filled",color:"gold.2",h:48,px:16,styles:{section:{marginRight:12}},children:a=>e.jsx(T,{...a,children:s.data.file?s.data.file.name:"Unggah Jadwal"})}),e.jsx("form",{onSubmit:a=>{a.preventDefault(),s.post(route("exercises.schedule.store"))},children:e.jsx(j,{type:"submit",disabled:!s.data.file,style:{borderRadius:"0 32px 32px 0"},h:48,w:48,color:"gold.2",display:{base:"none",sm:"block"},children:e.jsx(se,{})})})]})}),e.jsx(f,{style:{borderRadius:32,padding:".5rem 1rem"},label:"Tambah Hasil",children:e.jsx(j,{ml:"auto",h:48,w:48,color:"gold.2",radius:32,display:{base:"block",sm:"none"},onClick:()=>m.get(route("exercises.create")),children:e.jsx(k,{})})}),e.jsx(T,{display:{base:"none",sm:"block"},w:240,leftSection:e.jsx(k,{}),variant:"filled",color:"gold.2",h:48,radius:32,px:16,styles:{section:{marginRight:12}},onClick:()=>m.get(route("exercises.create")),children:"Tambah Hasil"})]})]})]}),e.jsx(E,{w:"100%",display:{base:"block",xs:"none"},variant:"filled",leftSection:e.jsx(I,{}),styles:{input:{height:48,borderRadius:32,paddingLeft:50,paddingRight:14},section:{marginLeft:0,width:48,height:48}},color:"gold.2",placeholder:"Cari atlet...",onChange:a=>l(a.target.value)})]}),e.jsx(q,{thList:d,tdList:u,icon:e.jsx(J,{size:48}),title:"Latihan",route:"exercises.create",authed:t.auth.user,data:i,handleSort:b})]})};export{xe as default};

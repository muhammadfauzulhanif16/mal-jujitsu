import{f as ge,u as xe,r as b,j as l}from"./app-42ztUqCq.js";import{c as Se,u as M,f as ve}from"./AppLayout-DU9WNuPn.js";import{g as we,a as ye,u as Ce,C as c,O as Oe}from"./OptionsDropdown-Cwa4sV-Q.js";import{a as T}from"./Title-CZteqP86.js";const De={searchable:!1,withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},H=ge((R,z)=>{const P=xe("Select",De,R),{classNames:L,styles:U,unstyled:u,vars:Ie,dropdownOpened:W,defaultDropdownOpened:$,onDropdownClose:g,onDropdownOpen:x,onFocus:S,onBlur:v,onClick:w,onChange:q,data:j,value:d,defaultValue:G,selectFirstOptionOnChange:y,onOptionSubmit:C,comboboxProps:J,readOnly:p,disabled:h,filter:K,limit:Q,withScrollArea:X,maxDropdownHeight:Y,size:f,searchable:a,rightSection:Z,checkIconPosition:ee,withCheckIcon:oe,nothingFoundMessage:V,name:te,form:se,searchValue:le,defaultSearchValue:ae,onSearchChange:ne,allowDeselect:re,error:E,rightSectionPointerEvents:ce,id:ie,clearable:ue,clearButtonProps:de,hiddenInputProps:pe,renderOption:he,onClear:O,autoComplete:fe,scrollAreaProps:me,...m}=P,D=b.useMemo(()=>we(j),[j]),i=b.useMemo(()=>ye(D),[D]),_=Se(ie),[t,k,be]=M({value:d,defaultValue:G,finalValue:null,onChange:q}),n=typeof t=="string"?i[t]:void 0,[I,r]=M({value:le,defaultValue:ae,finalValue:n?n.label:"",onChange:ne}),o=Ce({opened:W,defaultOpened:$,onDropdownOpen:()=>{x==null||x(),o.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{g==null||g(),o.resetSelectedOption()}}),{resolvedClassNames:F,resolvedStyles:N}=ve({props:P,styles:U,classNames:L});b.useEffect(()=>{y&&o.selectFirstOption()},[y,t]),b.useEffect(()=>{d===null&&r(""),typeof d=="string"&&n&&r(n.label)},[d,n]);const B=ue&&!!t&&!h&&!p&&l.jsx(c.ClearButton,{size:f,...de,onClear:()=>{k(null,null),r(""),O==null||O()}});return l.jsxs(l.Fragment,{children:[l.jsxs(c,{store:o,__staticSelector:"Select",classNames:F,styles:N,unstyled:u,readOnly:p,onOptionSubmit:e=>{C==null||C(e);const s=re&&i[e].value===t?null:i[e],A=s?s.value:null;k(A,s),!be&&r(typeof A=="string"&&(s==null?void 0:s.label)||""),o.closeDropdown()},size:f,...J,children:[l.jsx(c.Target,{targetType:a?"input":"button",autoComplete:fe,children:l.jsx(T,{id:_,ref:z,rightSection:Z||B||l.jsx(c.Chevron,{size:f,error:E,unstyled:u}),rightSectionPointerEvents:ce||(B?"all":"none"),...m,size:f,__staticSelector:"Select",disabled:h,readOnly:p||!a,value:I,onChange:e=>{r(e.currentTarget.value),o.openDropdown(),y&&o.selectFirstOption()},onFocus:e=>{a&&o.openDropdown(),S==null||S(e)},onBlur:e=>{var s;a&&o.closeDropdown(),r(t!=null&&((s=i[t])==null?void 0:s.label)||""),v==null||v(e)},onClick:e=>{a?o.openDropdown():o.toggleDropdown(),w==null||w(e)},classNames:F,styles:N,unstyled:u,pointer:!a,error:E})}),l.jsx(Oe,{data:D,hidden:p||h,filter:K,search:I,limit:Q,hiddenWhenEmpty:!a||!V,withScrollArea:X,maxDropdownHeight:Y,filterOptions:a&&(n==null?void 0:n.label)!==I,value:t,checkIconPosition:ee,withCheckIcon:oe,nothingFoundMessage:V,unstyled:u,labelId:m.label?`${_}-label`:void 0,"aria-label":m.label?void 0:m["aria-label"],renderOption:he,scrollAreaProps:me})]}),l.jsx(c.HiddenInput,{value:t,name:te,form:se,disabled:h,...pe})]})});H.classes={...T.classes,...c.classes};H.displayName="@mantine/core/Select";export{H as S};

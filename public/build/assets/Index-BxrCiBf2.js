import{r as d,j as e,O as i}from"./app-DN9_gzYd.js";import{F as c,b as L,T as h,a as u,A as C,S as I,G as p,B as P,h as v}from"./AppLayout-PfUEuSbw.js";import{B as A}from"./Breadcrumbs-DcIMFZ2R.js";import{I as R,T as s,a as x,b as D}from"./Table-CHL3rbco.js";import{I as B,a as z}from"./IconTrash-nQIpwdSG.js";import{T as m}from"./TextInput-DGxW6fZg.js";import{I as g}from"./IconSearch-Baa8rLBn.js";import"./Title-DYxjYiRb.js";import"./ScrollArea-CdgOV-zf.js";const $=a=>{const[b,n]=d.useState(""),j=[{title:"#"},{title:"Nama",key:"name"},{title:"Tempat",key:"place"},{title:"Atlet"},{title:"Medali",key:"medal"},{title:"Tanggal",key:"date"},{title:"Aksi"}],y=[{label:"Rincian Atlet",icon:e.jsx(R,{}),onClick:t=>i.get(route("tournaments.show",t.id)),color:"blue"},{label:"Ubah Atlet",icon:e.jsx(B,{}),onClick:t=>i.get(route("tournaments.edit",t.id)),color:"yellow",disabled:!a.auth.user.role.includes("Pelatih")},{label:"Hapus Atlet",icon:e.jsx(z,{}),onClick:t=>i.delete(route("tournaments.destroy",t.id)),color:"red",disabled:!a.auth.user.role.includes("Pelatih")}],r=a.tournaments.filter(t=>t.name.toLowerCase().includes(b.toLowerCase())),[w,T]=d.useState(r),f=w.map((t,o)=>e.jsxs(s.Tr,{h:64,children:[e.jsx(s.Td,{px:16,py:0,style:{whiteSpace:"nowrap"},children:o+1}),e.jsx(s.Td,{px:16,py:0,style:{whiteSpace:"nowrap"},children:t.name}),e.jsx(s.Td,{px:16,py:0,style:{whiteSpace:"nowrap"},children:t.place}),e.jsx(s.Td,{px:16,py:0,style:{whiteSpace:"nowrap"},children:e.jsxs(c,{gap:16,align:"center",children:[e.jsx(L,{size:48,src:t.athlete.avatar}),t.athlete.full_name]})}),e.jsx(s.Td,{px:16,py:0,style:{whiteSpace:"nowrap"},children:t.medal}),e.jsx(s.Td,{px:16,py:0,style:{whiteSpace:"nowrap"},children:new Date(t.date).toLocaleDateString("id").split("/").join("-")}),e.jsx(s.Td,{px:16,py:0,style:{whiteSpace:"nowrap"},children:e.jsx(c,{gap:8,style:{whiteSpace:"nowrap"},children:y.map((l,k)=>e.jsx(h,{label:l.label,style:{borderRadius:32,padding:".5rem 1rem"},children:e.jsx(u,{size:48,radius:32,variant:"subtle","aria-label":l.label,color:l.color,onClick:()=>l.onClick(t),disabled:l.disabled,children:l.icon})},k))})})]},o)),S=t=>{T(t)};return e.jsxs(C,{title:"Pertandingan",authed:a.auth.user,meta:a.meta,unreadHistories:a.unread_histories.length,children:[e.jsxs(I,{mb:32,children:[e.jsxs(p,{w:"100%",justify:"space-between",children:[e.jsx(A,{navList:[{label:"Pertandingan",totalData:a.tournaments.length}]}),e.jsxs(p,{children:[e.jsx(m,{display:{base:"none",xs:"block"},w:240,variant:"filled",leftSection:e.jsx(g,{}),styles:{input:{height:48,borderRadius:32,paddingLeft:50,paddingRight:14},section:{marginLeft:0,width:48,height:48}},color:"gold.2",placeholder:"Cari pertandingan...",onChange:t=>n(t.target.value)}),a.auth.user.role.includes("Pelatih")&&e.jsxs(e.Fragment,{children:[e.jsx(h,{style:{borderRadius:32,padding:".5rem 1rem"},label:"Tambah Pertandingan",children:e.jsx(u,{ml:"auto",h:48,w:48,color:"gold.2",radius:32,display:{base:"block",sm:"none"},onClick:()=>i.get(route("tournaments.create")),children:e.jsx(x,{})})}),e.jsx(P,{display:{base:"none",sm:"block"},w:240,leftSection:e.jsx(x,{}),variant:"filled",color:"gold.2",h:48,radius:32,px:16,styles:{section:{marginRight:12}},onClick:()=>i.get(route("tournaments.create")),children:"Tambah Pertandingan"})]})]})]}),e.jsx(m,{w:"100%",display:{base:"block",xs:"none"},variant:"filled",leftSection:e.jsx(g,{}),styles:{input:{height:48,borderRadius:32,paddingLeft:50,paddingRight:14},section:{marginLeft:0,width:48,height:48}},color:"gold.2",placeholder:"Cari atlet...",onChange:t=>n(t.target.value)})]}),e.jsx(D,{thList:j,tdList:f,icon:e.jsx(v,{size:48}),title:"Pertandingan",route:"tournaments.create",authed:a.auth.user,data:r,handleSort:S})]})};export{$ as default};

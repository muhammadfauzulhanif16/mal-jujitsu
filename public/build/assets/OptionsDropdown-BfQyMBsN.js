import{f as A,u as O,a as X,j as p,B as D,c as Y,b as L,r as u,J as ye,v as F,C as W,k as ve,A as Ce}from"./app-DN9_gzYd.js";import{a as we}from"./CheckIcon-NyLAEMeP.js";import{S as Oe}from"./ScrollArea-CdgOV-zf.js";import{m as Se,P as _,r as z,c as Ae,u as Ne}from"./AppLayout-PfUEuSbw.js";import{I as Ee}from"./Title-DYxjYiRb.js";function ee(e){return typeof e=="string"?{value:e,label:e}:"value"in e&&!("label"in e)?{value:e.value,label:e.value,disabled:e.disabled}:typeof e=="number"?{value:e.toString(),label:e.toString()}:"group"in e?{group:e.group,items:e.items.map(o=>ee(o))}:e}function ro(e){return e?e.map(o=>ee(o)):[]}function Ie(e){return e.reduce((o,t)=>"group"in t?{...o,...Ie(t.items)}:(o[t.value]=t,o),{})}var C={dropdown:"m_88b62a41",options:"m_b2821a6e",option:"m_92253aa5",search:"m_985517d8",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2"};const ke={error:null},Te=Y((e,{size:o})=>({chevron:{"--combobox-chevron-size":L(o,"combobox-chevron-size")}})),H=A((e,o)=>{const t=O("ComboboxChevron",ke,e),{size:r,error:n,style:i,className:s,classNames:a,styles:c,unstyled:l,vars:b,mod:d,...f}=t,g=X({name:"ComboboxChevron",classes:C,props:t,style:i,className:s,classNames:a,styles:c,unstyled:l,vars:b,varsResolver:Te,rootSelector:"chevron"});return p.jsx(D,{component:"svg",...f,...g("chevron"),size:r,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:n},d],ref:o,children:p.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});H.classes=C;H.displayName="@mantine/core/ComboboxChevron";const[je,N]=Se("Combobox component was not found in tree"),oe=u.forwardRef(({size:e,onMouseDown:o,onClick:t,onClear:r,...n},i)=>p.jsx(ye,{ref:i,size:e||"sm",variant:"transparent",tabIndex:-1,"aria-hidden":!0,...n,onMouseDown:s=>{s.preventDefault(),o==null||o(s)},onClick:s=>{r(),t==null||t(s)}}));oe.displayName="@mantine/core/ComboboxClearButton";const De={},q=A((e,o)=>{const{classNames:t,styles:r,className:n,style:i,hidden:s,...a}=O("ComboboxDropdown",De,e),c=N();return p.jsx(_.Dropdown,{...a,ref:o,role:"presentation","data-hidden":s||void 0,...c.getStyles("dropdown",{className:n,style:i,classNames:t,styles:r})})});q.classes=C;q.displayName="@mantine/core/ComboboxDropdown";const Pe={refProp:"ref"},te=A((e,o)=>{const{children:t,refProp:r}=O("ComboboxDropdownTarget",Pe,e);if(N(),!z(t))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return p.jsx(_.Target,{ref:o,refProp:r,children:t})});te.displayName="@mantine/core/ComboboxDropdownTarget";const $e={},K=A((e,o)=>{const{classNames:t,className:r,style:n,styles:i,vars:s,...a}=O("ComboboxEmpty",$e,e),c=N();return p.jsx(D,{ref:o,...c.getStyles("empty",{className:r,classNames:t,styles:i,style:n}),...a})});K.classes=C;K.displayName="@mantine/core/ComboboxEmpty";function B({onKeyDown:e,withKeyboardNavigation:o,withAriaAttributes:t,withExpandedAttribute:r,targetType:n,autoComplete:i}){const s=N(),[a,c]=u.useState(null),l=d=>{if(e==null||e(d),!s.readOnly&&o){if(d.nativeEvent.isComposing)return;if(d.nativeEvent.code==="ArrowDown"&&(d.preventDefault(),s.store.dropdownOpened?c(s.store.selectNextOption()):(s.store.openDropdown("keyboard"),c(s.store.selectActiveOption()))),d.nativeEvent.code==="ArrowUp"&&(d.preventDefault(),s.store.dropdownOpened?c(s.store.selectPreviousOption()):(s.store.openDropdown("keyboard"),c(s.store.selectActiveOption()))),d.nativeEvent.code==="Enter"||d.nativeEvent.code==="NumpadEnter"){if(d.nativeEvent.keyCode===229)return;const f=s.store.getSelectedOptionIndex();s.store.dropdownOpened&&f!==-1?(d.preventDefault(),s.store.clickSelectedOption()):n==="button"&&(d.preventDefault(),s.store.openDropdown("keyboard"))}d.nativeEvent.code==="Escape"&&s.store.closeDropdown("keyboard"),d.nativeEvent.code==="Space"&&n==="button"&&(d.preventDefault(),s.store.toggleDropdown("keyboard"))}};return{...t?{"aria-haspopup":"listbox","aria-expanded":r&&!!(s.store.listId&&s.store.dropdownOpened)||void 0,"aria-controls":s.store.listId,"aria-activedescendant":s.store.dropdownOpened&&a||void 0,autoComplete:i,"data-expanded":s.store.dropdownOpened||void 0,"data-mantine-stop-propagation":s.store.dropdownOpened||void 0}:{},onKeyDown:l}}const Re={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},re=A((e,o)=>{const{children:t,refProp:r,withKeyboardNavigation:n,withAriaAttributes:i,withExpandedAttribute:s,targetType:a,autoComplete:c,...l}=O("ComboboxEventsTarget",Re,e);if(!z(t))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const b=N(),d=B({targetType:a,withAriaAttributes:i,withKeyboardNavigation:n,withExpandedAttribute:s,onKeyDown:t.props.onKeyDown,autoComplete:c});return u.cloneElement(t,{...d,...l,[r]:F(o,b.store.targetRef,t==null?void 0:t.ref)})});re.displayName="@mantine/core/ComboboxEventsTarget";const _e={},G=A((e,o)=>{const{classNames:t,className:r,style:n,styles:i,vars:s,...a}=O("ComboboxFooter",_e,e),c=N();return p.jsx(D,{ref:o,...c.getStyles("footer",{className:r,classNames:t,style:n,styles:i}),...a})});G.classes=C;G.displayName="@mantine/core/ComboboxFooter";const Le={},V=A((e,o)=>{const{classNames:t,className:r,style:n,styles:i,vars:s,children:a,label:c,...l}=O("ComboboxGroup",Le,e),b=N();return p.jsxs(D,{ref:o,...b.getStyles("group",{className:r,classNames:t,style:n,styles:i}),...l,children:[c&&p.jsx("div",{...b.getStyles("groupLabel",{classNames:t,styles:i}),children:c}),a]})});V.classes=C;V.displayName="@mantine/core/ComboboxGroup";const Fe={},U=A((e,o)=>{const{classNames:t,className:r,style:n,styles:i,vars:s,...a}=O("ComboboxHeader",Fe,e),c=N();return p.jsx(D,{ref:o,...c.getStyles("header",{className:r,classNames:t,style:n,styles:i}),...a})});U.classes=C;U.displayName="@mantine/core/ComboboxHeader";function se({value:e,valuesDivider:o=",",...t}){return p.jsx("input",{type:"hidden",value:Array.isArray(e)?e.join(o):e||"",...t})}se.displayName="@mantine/core/ComboboxHiddenInput";const ze={},Z=A((e,o)=>{const t=O("ComboboxOption",ze,e),{classNames:r,className:n,style:i,styles:s,vars:a,onClick:c,id:l,active:b,onMouseDown:d,onMouseOver:f,disabled:g,selected:I,mod:T,...k}=t,y=N(),P=u.useId(),E=l||P;return p.jsx(D,{...y.getStyles("option",{className:n,classNames:r,styles:s,style:i}),...k,ref:o,id:E,mod:["combobox-option",{"combobox-active":b,"combobox-disabled":g,"combobox-selected":I},T],role:"option",onClick:h=>{var j;g?h.preventDefault():((j=y.onOptionSubmit)==null||j.call(y,t.value,t),c==null||c(h))},onMouseDown:h=>{h.preventDefault(),d==null||d(h)},onMouseOver:h=>{y.resetSelectionOnOptionHover&&y.store.resetSelectedOption(),f==null||f(h)}})});Z.classes=C;Z.displayName="@mantine/core/ComboboxOption";const He={},J=A((e,o)=>{const t=O("ComboboxOptions",He,e),{classNames:r,className:n,style:i,styles:s,id:a,onMouseDown:c,labelledBy:l,...b}=t,d=N(),f=Ae(a);return u.useEffect(()=>{d.store.setListId(f)},[f]),p.jsx(D,{ref:o,...d.getStyles("options",{className:n,style:i,classNames:r,styles:s}),...b,id:f,role:"listbox","aria-labelledby":l,onMouseDown:g=>{g.preventDefault(),c==null||c(g)}})});J.classes=C;J.displayName="@mantine/core/ComboboxOptions";const qe={withAriaAttributes:!0,withKeyboardNavigation:!0},M=A((e,o)=>{const t=O("ComboboxSearch",qe,e),{classNames:r,styles:n,unstyled:i,vars:s,withAriaAttributes:a,onKeyDown:c,withKeyboardNavigation:l,size:b,...d}=t,f=N(),g=f.getStyles("search"),I=B({targetType:"input",withAriaAttributes:a,withKeyboardNavigation:l,withExpandedAttribute:!1,onKeyDown:c,autoComplete:"off"});return p.jsx(Ee,{ref:F(o,f.store.searchRef),classNames:[{input:g.className},r],styles:[{input:g.style},n],size:b||f.size,...I,...d,__staticSelector:"Combobox"})});M.classes=C;M.displayName="@mantine/core/ComboboxSearch";const Ke={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},ne=A((e,o)=>{const{children:t,refProp:r,withKeyboardNavigation:n,withAriaAttributes:i,withExpandedAttribute:s,targetType:a,autoComplete:c,...l}=O("ComboboxTarget",Ke,e);if(!z(t))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const b=N(),d=B({targetType:a,withAriaAttributes:i,withKeyboardNavigation:n,withExpandedAttribute:s,onKeyDown:t.props.onKeyDown,autoComplete:c}),f=u.cloneElement(t,{...d,...l});return p.jsx(_.Target,{ref:F(o,b.store.targetRef),children:f})});ne.displayName="@mantine/core/ComboboxTarget";function Be(e,o,t){for(let r=e-1;r>=0;r-=1)if(!o[r].hasAttribute("data-combobox-disabled"))return r;if(t){for(let r=o.length-1;r>-1;r-=1)if(!o[r].hasAttribute("data-combobox-disabled"))return r}return e}function Ge(e,o,t){for(let r=e+1;r<o.length;r+=1)if(!o[r].hasAttribute("data-combobox-disabled"))return r;if(t){for(let r=0;r<o.length;r+=1)if(!o[r].hasAttribute("data-combobox-disabled"))return r}return e}function Ve(e){for(let o=0;o<e.length;o+=1)if(!e[o].hasAttribute("data-combobox-disabled"))return o;return-1}function Ue({defaultOpened:e,opened:o,onOpenedChange:t,onDropdownClose:r,onDropdownOpen:n,loop:i=!0,scrollBehavior:s="instant"}={}){const[a,c]=Ne({value:o,defaultValue:e,finalValue:!1,onChange:t}),l=u.useRef(null),b=u.useRef(-1),d=u.useRef(null),f=u.useRef(null),g=u.useRef(-1),I=u.useRef(-1),T=u.useRef(-1),k=u.useCallback((m="unknown")=>{a||(c(!0),n==null||n(m))},[c,n,a]),y=u.useCallback((m="unknown")=>{a&&(c(!1),r==null||r(m))},[c,r,a]),P=u.useCallback((m="unknown")=>{a?y(m):k(m)},[y,k,a]),E=u.useCallback(()=>{const m=document.querySelector(`#${l.current} [data-combobox-selected]`);m==null||m.removeAttribute("data-combobox-selected"),m==null||m.removeAttribute("aria-selected")},[]),h=u.useCallback(m=>{const w=document.getElementById(l.current),v=w==null?void 0:w.querySelectorAll("[data-combobox-option]");if(!v)return null;const S=m>=v.length?0:m<0?v.length-1:m;return b.current=S,v!=null&&v[S]&&!v[S].hasAttribute("data-combobox-disabled")?(E(),v[S].setAttribute("data-combobox-selected","true"),v[S].setAttribute("aria-selected","true"),v[S].scrollIntoView({block:"nearest",behavior:s}),v[S].id):null},[s,E]),j=u.useCallback(()=>{const m=document.querySelector(`#${l.current} [data-combobox-active]`);if(m){const w=document.querySelectorAll(`#${l.current} [data-combobox-option]`),v=Array.from(w).findIndex(S=>S===m);return h(v)}return h(0)},[h]),$=u.useCallback(()=>h(Ge(b.current,document.querySelectorAll(`#${l.current} [data-combobox-option]`),i)),[h,i]),le=u.useCallback(()=>h(Be(b.current,document.querySelectorAll(`#${l.current} [data-combobox-option]`),i)),[h,i]),de=u.useCallback(()=>h(Ve(document.querySelectorAll(`#${l.current} [data-combobox-option]`))),[h]),ue=u.useCallback((m="selected",w)=>{T.current=window.setTimeout(()=>{var Q;const v=document.querySelectorAll(`#${l.current} [data-combobox-option]`),S=Array.from(v).findIndex(ge=>ge.hasAttribute(`data-combobox-${m}`));b.current=S,w!=null&&w.scrollIntoView&&((Q=v[S])==null||Q.scrollIntoView({block:"nearest",behavior:s}))},0)},[]),pe=u.useCallback(()=>{b.current=-1,E()},[E]),be=u.useCallback(()=>{const m=document.querySelectorAll(`#${l.current} [data-combobox-option]`),w=m==null?void 0:m[b.current];w==null||w.click()},[]),me=u.useCallback(m=>{l.current=m},[]),fe=u.useCallback(()=>{g.current=window.setTimeout(()=>d.current.focus(),0)},[]),xe=u.useCallback(()=>{I.current=window.setTimeout(()=>f.current.focus(),0)},[]),he=u.useCallback(()=>b.current,[]);return u.useEffect(()=>()=>{window.clearTimeout(g.current),window.clearTimeout(I.current),window.clearTimeout(T.current)},[]),{dropdownOpened:a,openDropdown:k,closeDropdown:y,toggleDropdown:P,selectedOptionIndex:b.current,getSelectedOptionIndex:he,selectOption:h,selectFirstOption:de,selectActiveOption:j,selectNextOption:$,selectPreviousOption:le,resetSelectedOption:pe,updateSelectedOptionIndex:ue,listId:l.current,setListId:me,clickSelectedOption:be,searchRef:d,focusSearchInput:fe,targetRef:f,focusTarget:xe}}const Ze={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0}},Je=Y((e,{size:o,dropdownPadding:t})=>({options:{"--combobox-option-fz":W(o),"--combobox-option-padding":L(o,"combobox-option-padding")},dropdown:{"--combobox-padding":t===void 0?void 0:ve(t),"--combobox-option-fz":W(o),"--combobox-option-padding":L(o,"combobox-option-padding")}}));function x(e){const o=O("Combobox",Ze,e),{classNames:t,styles:r,unstyled:n,children:i,store:s,vars:a,onOptionSubmit:c,onClose:l,size:b,dropdownPadding:d,resetSelectionOnOptionHover:f,__staticSelector:g,readOnly:I,...T}=o,k=Ue(),y=s||k,P=X({name:g||"Combobox",classes:C,props:o,classNames:t,styles:r,unstyled:n,vars:a,varsResolver:Je}),E=()=>{l==null||l(),y.closeDropdown()};return p.jsx(je,{value:{getStyles:P,store:y,onOptionSubmit:c,size:b,resetSelectionOnOptionHover:f,readOnly:I},children:p.jsx(_,{opened:y.dropdownOpened,...T,onClose:E,withRoles:!1,unstyled:n,children:i})})}const Me=e=>e;x.extend=Me;x.classes=C;x.displayName="@mantine/core/Combobox";x.Target=ne;x.Dropdown=q;x.Options=J;x.Option=Z;x.Search=M;x.Empty=K;x.Chevron=H;x.Footer=G;x.Header=U;x.EventsTarget=re;x.DropdownTarget=te;x.Group=V;x.ClearButton=oe;x.HiddenInput=se;function R(e){return"group"in e}function ae({options:e,search:o,limit:t}){const r=o.trim().toLowerCase(),n=[];for(let i=0;i<e.length;i+=1){const s=e[i];if(n.length===t)return n;R(s)&&n.push({group:s.group,items:ae({options:s.items,search:o,limit:t-n.length})}),R(s)||s.label.toLowerCase().includes(r)&&n.push(s)}return n}function Qe(e){if(e.length===0)return!0;for(const o of e)if(!("group"in o)||o.items.length>0)return!1;return!0}function ce(e,o=new Set){if(Array.isArray(e))for(const t of e)if(R(t))ce(t.items,o);else{if(typeof t.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof t.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof t.value}`);if(o.has(t.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${t.value}" was provided more than once`);o.add(t.value)}}function We(e,o){return Array.isArray(e)?e.includes(o):e===o}function ie({data:e,withCheckIcon:o,value:t,checkIconPosition:r,unstyled:n,renderOption:i}){if(!R(e)){const a=We(t,e.value),c=o&&a&&p.jsx(we,{className:C.optionsDropdownCheckIcon}),l=p.jsxs(p.Fragment,{children:[r==="left"&&c,p.jsx("span",{children:e.label}),r==="right"&&c]});return p.jsx(x.Option,{value:e.value,disabled:e.disabled,className:Ce({[C.optionsDropdownOption]:!n}),"data-reverse":r==="right"||void 0,"data-checked":a||void 0,"aria-selected":a,active:a,children:typeof i=="function"?i({option:e,checked:a}):l})}const s=e.items.map(a=>p.jsx(ie,{data:a,value:t,unstyled:n,withCheckIcon:o,checkIconPosition:r,renderOption:i},a.value));return p.jsx(x.Group,{label:e.group,children:s})}function so({data:e,hidden:o,hiddenWhenEmpty:t,filter:r,search:n,limit:i,maxDropdownHeight:s,withScrollArea:a=!0,filterOptions:c=!0,withCheckIcon:l=!1,value:b,checkIconPosition:d,nothingFoundMessage:f,unstyled:g,labelId:I,renderOption:T,scrollAreaProps:k,"aria-label":y}){ce(e);const E=typeof n=="string"?(r||ae)({options:e,search:c?n:"",limit:i??1/0}):e,h=Qe(E),j=E.map($=>p.jsx(ie,{data:$,withCheckIcon:l,value:b,checkIconPosition:d,unstyled:g,renderOption:T},R($)?$.group:$.value));return p.jsx(x.Dropdown,{hidden:o||t&&h,children:p.jsxs(x.Options,{labelledBy:I,"aria-label":y,children:[a?p.jsx(Oe.Autosize,{mah:s??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",...k,children:j}):j,h&&f&&p.jsx(x.Empty,{children:f})]})})}export{x as C,so as O,Ie as a,ro as g,R as i,Ue as u};
